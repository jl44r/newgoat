<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
    <!-- ستايل نافذة الحجز -->
    <link rel="stylesheet" href="css/booking.css" />
    <title>goat center</title>
</head>

<body>
    <header>
        <div class="logo">
            <!-- <a href=""><img src="image/logo.png" alt="logo" height="80" width="50"></a> -->
            <a href=""><img src="image/logo chrsmis.png" alt="logo" height="90" width="60"></a>
            <h1>goat center</h1>
        </div>

        <!-- زر الهامبرغر يظهر في الشاشات الصغيرة -->
        <button class="nav-toggle" aria-controls="main-navigation" aria-expanded="false" aria-label="فتح القائمة">
            <span class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </span>
        </button>

        <nav id="main-navigation" class="navigation" aria-label="التنقل الرئيسي">
            <ul class="nav-list">
                <li><a href="#home">الرئيسية</a></li>
                <li><a href="#events">الفعاليات</a></li>
                <li><a href="#sections">الاقسام</a></li>
                <li><a href="#games">الالعاب</a></li>
                <li><a href="#contact">مــــــــــوقعنا</a></li>
                <!-- زر/رابط جديد لصفحة الحجوزات -->
                <li><a href="booking.html">دخول الادمن</a></li>
            </ul>
        </nav>
    </header>

    <main class="site-content">
        <section id="home" class="s-one">
            <div class="conterair">
                <div class="content-one">
                    <h2>welcome to our space</h2>
                    <p>كــوت ســنتر اختيـــارك الــــــصح <br>اتعرف علئ الخدمات و الفعاليات الـــــمقدمة مـــــن كــــوت
                        ســنتر </p>
                    <a href="#events" class="btn-one">خــــــــدمـــــــاتنــــــــا</a>
                    <!-- زر مرئي مباشر للحجز في الصفحة الرئيسية -->

                </div>
                <div class="img">

                    <img src="image/hero.png" alt="hero" height="700px" width="500px">

                </div>

            </div>
        </section>
        <section id="events" class="s-two">
            <div class="content-two">
                <h2>الــــــــفعاليات داخـــــــل الـــــــــسنتر</h2>
                <p>
                    اكتشف الفعاليات المتنوعة التي نقدمها في كوت سنتر، من ورش العمل التفاعلية إلى العروض الحية الممتعة<br>
                    انضم إلينا
                    لتجربة لا تُنسى مليئة بالإثارة و المتعة
                </p>
            </div>
            <div class="contenair-cards">
                <div class="card">
                    <div class="img">
                        <img src="image/حاسبات1.jpg" alt="camp" height="400px" width="300px">
                    </div>
                    <div class="info">
                        <h2>البوت كام</h2>
                        <p>
                            انضم إلى بوتكامب كوت سنتر، حيث نقدم لك تجربة فريدة من نوعها في عالم الالعاب
                        </p>
                        <a href="" class="btn-card-two">المزيد من التفاصيل</a>
                    </div>
                </div>
                <div class="card">
                    <div class="img">
                        <img src="image/photo/مافيا10.jpg" alt="camp" height="400px" width="300px">
                    </div>
                    <div class="info">
                        <h2> لعبة المافيا</h2>
                        <p>
                            حيث يمتلك كل لاعب دورًا سريًا ويتناوبون بين ليلة لقتل القرويين، ونهار للنقاش والتصويت لإقصاء
                            المشتبه بهم،
                        </p>
                        <a href="" class="btn-card-one">المزيد من التفاصيل</a>
                    </div>
                </div>
                <div class="card">
                    <div class="img">
                        <img src="image/photo/نركيلة3.jpg" alt="camp" height="400px" width="300px">
                    </div>
                    <div class="info">
                        <h2> الموفي نايت</h2>
                        <p>
                            استمتع بأمسية سينمائية لا تُنسى في كوت سنتر مع أصدقائك وعائلتك، حيث نقدم لك تجربة مشاهدة أفلام
                            مميزة في جو مريح وممتع.
                        </p>
                        <a href="" class="btn-card">المزيد من التفاصيل</a>
                    </div>
                </div>
                <div class="card">
                    <div class="img">
                        <img src="image/photo/مافيا14.jpg" alt="camp" height="400px" width="300px">
                    </div>
                    <div class="info">
                        <h2> خصومات الطلاب</h2>
                        <p>
                            استفد من خصوماتنا الحصرية للطلاب في كوت سنتر، حيث نقدم لك فرصة للاستمتاع بخدماتنا ومنتجاتنا
                            بأسعار
                            مخفضة تناسب ميزانيتك الطلابية.
                        </p>
                        <a href="" class="btn-card">المزيد من التفاصيل</a>
                    </div>
                </div>
                <div class="card">
                    <div class="img">
                        <img src="image/photo/مباريات7.jpg" alt="camp" height="400px" width="300px">
                    </div>
                    <div class="info">
                        <h2> المباريات</h2>
                        <p>
                            انضم إلى كوت سنتر لمتابعة المباريات الحية، حيث نقدم لك تجربة مشاهدة مثيرة وممتعة لأبرز الأحداث
                            الرياضية في جو مليء بالحماس والتشويق.
                        </p>
                        <a href="" class="btn-card">المزيد من التفاصيل</a>
                    </div>
                </div>

            </div>
        </section>
        <section id="sections" class="s-three">
            <div class="content-two">
                <h2> اقــــــــــسام الــــــــــــــــسنتر</h2>
                <p>
                    اكتشف أقسام كوت سنتر المتنوعة التي تلبي جميع اهتماماتك، من الألعاب الإلكترونية إلى مناطق الاسترخاء
                    والترفيه<br>
                    انضم إلينا لتجربة فريدة وممتعة في كل زاوية من زوايا السنتر
                </p>
            </div>
            <div class="contenair-cards">
                <div class="card">
                    <div class="img">
                        <img src="image/photo/نركيلة66.jpg" alt="camp" height="400px" width="300px">
                    </div>
                    <div class="info">
                        <h2> قسم الحاسبات</h2>
                        <p>
                            انضم إلى كوت سنتر لمتابعة المباريات الحية، حيث نقدم لك تجربة مشاهدة مثيرة وممتعة لأبرز الأحداث
                            الرياضية في جو مليء بالحماس والتشويق.
                        </p>
                        <a href="#" class="btn-card book-btn" data-title="قسم الحاسبات"> احجز الان </a>
                    </div>
                </div>
                <div class="card">
                    <div class="img">
                        <img src="image/photo/بليات.jpg" alt="camp" height="400px" width="300px">
                    </div>
                    <div class="info">
                        <h2> قسم البليات</h2>
                        <p>
                            انضم إلى كوت سنتر لمتابعة المباريات الحية، حيث نقدم لك تجربة مشاهدة مثيرة وممتعة لأبرز الأحداث
                            الرياضية في جو مليء بالحماس والتشويق.
                        </p>
                        <a href="#" class="btn-card book-btn" data-title="قسم البليات"> احجز الان</a>
                    </div>
                </div>
                <div class="card">
                    <div class="img">
                        <img src="image/كافتيريا غلاف.jpg" alt="camp" height="400px" width="300px">
                    </div>
                    <div class="info">
                        <h2> قسم الكافتيريا</h2>
                        <p>
                            انضم إلى كوت سنتر لمتابعة المباريات الحية، حيث نقدم لك تجربة مشاهدة مثيرة وممتعة لأبرز الأحداث
                            الرياضية في جو مليء بالحماس والتشويق.
                        </p>
                        <a href="#" class="btn-card book-btn" data-title="قسم الكافتيريا"> احجز الان</a>
                    </div>
                </div>
            </div>
        </section>
        <section id="games" class="s-four">
            <div class="content-two">
                <h2> الالعاب المتوفرة داخل السنتر</h2>
                <p>
                    استمتع بتشكيلة واسعة من الألعاب المتوفرة في كوت سنتر، من الألعاب الإلكترونية الحديثة إلى الألعاب
                    التقليدية<br>
                    انضم إلينا لتجربة ترفيهية لا تُنسى تناسب جميع الأذواق
                </p>
            </div>
            <div class="carosel">
                <div class="group top">
                    <div class="cards"><img src="image/games/bat.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Battlefield 2042 wallpaper.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/bops.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Call of Duty_ MW Key Art - Justin Will.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/csgo.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/fifa 26 ps4 capa - Pesquisa Google.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Fortnite in School_ Why not!.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Forza Horizon 3 Cover.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Mortal kombat 1.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/GTA V Playstation 5.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/pes.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/renbo.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Tekken 8 poster in HD.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/bat.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Battlefield 2042 wallpaper.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/bops.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Call of Duty_ MW Key Art - Justin Will.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/csgo.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/fifa 26 ps4 capa - Pesquisa Google.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Fortnite in School_ Why not!.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Forza Horizon 3 Cover.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Mortal kombat 1.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/GTA V Playstation 5.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/pes.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/renbo.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Tekken 8 poster in HD.jpeg" alt=""></div>
                </div>
                <div aria-hidden class="group bottom">
                   <div class="cards"><img src="image/games/bat.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Battlefield 2042 wallpaper.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/bops.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Call of Duty_ MW Key Art - Justin Will.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/csgo.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/fifa 26 ps4 capa - Pesquisa Google.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Fortnite in School_ Why not!.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Forza Horizon 3 Cover.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Mortal kombat 1.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/GTA V Playstation 5.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/pes.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/renbo.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Tekken 8 poster in HD.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/bat.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Battlefield 2042 wallpaper.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/bops.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Call of Duty_ MW Key Art - Justin Will.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/csgo.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/fifa 26 ps4 capa - Pesquisa Google.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Fortnite in School_ Why not!.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Forza Horizon 3 Cover.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Mortal kombat 1.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/GTA V Playstation 5.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/pes.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/renbo.jpeg" alt=""></div>
                    <div class="cards"><img src="image/games/Tekken 8 poster in HD.jpeg" alt=""></div>
                </div>
            </div>
        </section>
        <section id="contact" class="s-five">
            <div class="contacts">
                <div class="location">
                    <h2>مــــــــــوقعنا</h2>
                    <p>شارع فلسطين تقاطع الموال , مقابل الجامعة المستنصرية</p>
                    <a href="https://www.google.com/maps/place/Goat+center-%DA%AF%D9%88%D8%AA+%D8%B3%D9%86%D8%AA%D8%B1%E2%80%AD/@33.369025,44.4095251,17z/data=!4m10!1m2!2m1!1sgoat+center!3m6!1s0x155783007b28c6fb:0xa8564db3df1ce761!8m2!3d33.3690251!4d44.4047628!15sCgtnb2F0IGNlbnRlcpIBC3Nwb3J0c19jbHVi4AEA!16s%2Fg%2F11x7c5gt7t?entry=ttu&g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D"
                        class="loc-btn" target="_blank">شوفني علئ الخريطة</a>
                </div>
                <div class="contact">
                    <h2>تواصــــــــل معنا</h2>

                    <ul>
                        <li>الهاتف: 07701234567</li>
                        <li>البريد الإلكتروني: info@goatcenter.com</li>
                    </ul>
                </div>
                <div class="social">
                    <h2>تابعنا علئ السوشيال ميديا</h2>
                    <ul>
                        <li><a href="">فيسبوك</a></li>
                        <li><a href="">انستغرام</a></li>
                        <li><a href="">تويتر</a></li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <!-- booking modal (معدل: تم حذف حقل التاريخ، والوقت أصبح select) -->
    <div id="bookingModal" class="gc-modal" aria-hidden="true" role="dialog" aria-modal="true"
        aria-labelledby="bookingTitle">
        <div class="gc-overlay" data-close="true"></div>
        <div class="gc-dialog" role="document">
            <button class="gc-close" aria-label="إغلاق">&times;</button>
            <h3 id="bookingTitle" style="margin:0 0 8px 0;">نموذج الحجز</h3>

            <form id="bookingForm" class="gc-form" autocomplete="off">
                <p class="gc-summary"><strong>نوع الحجز:</strong> <span id="serviceName">-</span></p>

                <label>الاسم الكامل
                    <input type="text" name="name" id="b-name" required placeholder="الاسم الكامل">
                </label>

                <label>رقم الهاتف
                    <input type="tel" name="phone" id="b-phone" required placeholder="مثال: 0770xxxxxxx">
                </label>

                <!-- removed date field -->

                <label>الوقت
                    <select name="time" id="b-time" required>
                        <option value="">اختر الوقت</option>
                        <option value="10:00">10:00</option>
                        <option value="12:00">12:00</option>
                        <option value="14:00">14:00</option>
                        <option value="16:00">16:00</option>
                        <option value="18:00">18:00</option>
                        <option value="20:00">20:00</option>
                    </select>
                </label>

                <div class="gc-actions" style="margin-top:10px;">
                    <button type="submit" class="gc-btn gc-primary">إرسال</button>
                    <button type="button" class="gc-btn" id="gc-cancel">إلغاء</button>
                </div>

                <div id="gc-msg" class="gc-msg" aria-live="polite" style="margin-top:8px;"></div>
            </form>
        </div>
    </div>
<footer>
    <div class="footer-container" role="contentinfo">
        <div class="footer-brand">
            <div class="brand-row">
                <img src="image/logo.png" alt="GOAT Gaming Center logo" />
                <div>
                    <strong style="color:#fff">GOAT Gaming Center</strong>
                    <div style="color:rgba(255,255,255,0.65);font-size:13px">مقهى ألعاب ومركز ترفيه</div>
                </div>
            </div>
            <div class="desc">نوفر أحدث أجهزة الألعاب وبيئة مريحة للاستمتاع مع الأصدقاء. زورونا لتجربة ممتعة ومميزة.
            </div>
        </div>

        <div class="footer-links" aria-label="روابط سريعة">
            <h4>روابط سريعة</h4>
            <ul>
                <li><a href="#home">الصفحة الرئيسية</a></li>
                <li><a href="#home">الخدمات</a></li>
                <li><a href="#home">الأسئلة الشائعة</a></li>
            </ul>
        </div>

        <div class="footer-contact" aria-label="تواصل معنا">
            <h4>تواصل معنا</h4>
            <div class="contact-item"><strong>العنوان:</strong>&nbsp;<span>شارع فلسطين تقاطع الموال , مقابل الجامعة
                    المستنصرية</span></div>
            <div class="contact-item"><strong>الهاتف:</strong>&nbsp;<span>+123 456 7890</span></div>
            <div class="contact-item"><strong>البريد:</strong>&nbsp;<a
                    href="mailto:goatecenter@gmail.com">goatecenter@gmail.com</a></div>
        </div>

        <div class="footer-follow" aria-label="تابعنا">
            <h4>تابعنا</h4>
            <div class="socials" aria-hidden="false">
                <a href="#" aria-label="فيسبوك" class="social-btn">f</a>
                <a href="#" aria-label="تويتر" class="social-btn">t</a>
                <a href="#" aria-label="إنستغرام" class="social-btn">ig</a>
            </div>
            <div style="margin-top:10px;color:rgba(255,255,255,0.65);font-size:13px">ساعات العمل: 10ص - 12م</div>
        </div>
    </div>

    <div class="footer-bottom">
        <div>&copy; 2024 goat Gaming Center. جميع الحقوق محفوظة.</div>
        <div style="color:rgba(255,255,255,0.65);font-size:13px">تصميم وتطوير عبدالله كريم</div>
    </div>
</footer>
    <!-- سكربت الحجز -->
    <script type="module" src="js/booking-firebase.js"></script>
    <!-- سكربت التحكم بالقائمة (هامبرغر) -->
    <script src="js/main.js"></script>
    <!-- ============تأثير الثلج========= -->
    <canvas id="snow" aria-hidden="true"></canvas>
<script>
(() => {
  if (matchMedia && matchMedia('(prefers-reduced-motion: reduce)').matches) return;
  const cvs = document.getElementById('snow');
  if(!cvs) return;
  const ctx = cvs.getContext('2d');
  let W, H, DPR = devicePixelRatio || 1, flakes = [], COUNT = 140, wind = 0;

  function resize(){
    W = innerWidth; H = innerHeight;
    cvs.width = Math.round(W * DPR);
    cvs.height = Math.round(H * DPR);
    cvs.style.width = W + 'px';
    cvs.style.height = H + 'px';
    ctx.setTransform(DPR,0,0,DPR,0,0);
  }
  addEventListener('resize', resize); resize();

  // prepare small offscreen canvas for a single "flake" image (soft irregular disc + tiny arms)
  function makeFlakeImage(size){
    const oc = document.createElement('canvas');
    const s = Math.ceil(size*3);
    oc.width = oc.height = s * DPR;
    const octx = oc.getContext('2d');
    octx.setTransform(DPR,0,0,DPR,0,0);
    const cx = s/2, cy = s/2;

    // soft center
    const g = octx.createRadialGradient(cx,cy,0,cx,cy,size/1.2, cx,cy,size*1.6);
    g.addColorStop(0,'rgba(255,255,255,1)');
    g.addColorStop(0.6,'rgba(255,255,255,0.85)');
    g.addColorStop(1,'rgba(255,255,255,0)');
    octx.fillStyle = g;
    octx.beginPath();
    octx.arc(cx,cy,size*0.9,0,Math.PI*2);
    octx.fill();

    // tiny irregular arms for realism
    octx.strokeStyle = 'rgba(255,255,255,0.9)';
    octx.lineWidth = Math.max(0.8, size*0.06);
    for(let a=0;a<6;a++){
      const ang = a * Math.PI/3;
      const lx = cx + Math.cos(ang)*size*0.2;
      const ly = cy + Math.sin(ang)*size*0.2;
      const rx = cx + Math.cos(ang)*size*1.05;
      const ry = cy + Math.sin(ang)*size*1.05;
      octx.beginPath();
      octx.moveTo(lx,ly);
      octx.lineTo(rx,ry);
      octx.stroke();

      // small branches
      const bAng1 = ang + 0.25;
      const bAng2 = ang - 0.25;
      octx.beginPath();
      octx.moveTo(cx + Math.cos(ang)*size*0.6, cy + Math.sin(ang)*size*0.6);
      octx.lineTo(cx + Math.cos(bAng1)*size*0.85, cy + Math.sin(bAng1)*size*0.85);
      octx.stroke();
      octx.beginPath();
      octx.moveTo(cx + Math.cos(ang)*size*0.7, cy + Math.sin(ang)*size*0.7);
      octx.lineTo(cx + Math.cos(bAng2)*size*0.85, cy + Math.sin(bAng2)*size*0.85);
      octx.stroke();
    }
    return oc;
  }

  // create flakes with varied properties
  function makeFlakes(){
    flakes = [];
    const target = innerWidth < 600 ? Math.round(COUNT*0.35) : COUNT;
    for(let i=0;i<target;i++){
      const size = 1 + Math.random()*5; // visual size in px
      flakes.push({
        x: Math.random()*W,
        y: Math.random()*H,
        size,
        img: makeFlakeImage(size),
        vx: -0.3 + Math.random()*0.6,
        vy: 0.4 + Math.random()*1.2,
        rot: Math.random()*Math.PI*2,
        vrot: -0.02 + Math.random()*0.04,
        alpha: 0.35 + Math.random()*0.75,
        depth: 0.6 + Math.random()*1.6 // depth for parallax: affects speed and alpha
      });
    }
  }
  makeFlakes();
  addEventListener('resize', makeFlakes);

  // occasional gusts
  let gustTimer = 0;
  function updateWind(dt){
    gustTimer -= dt;
    if(gustTimer <= 0){
      // new gust
      const g = (Math.random()-0.5) * (innerWidth < 600 ? 0.6 : 1.6);
      const dur = 800 + Math.random()*1400;
      wind = g;
      gustTimer = dur;
      // slowly decay wind
      setTimeout(()=>{ wind = 0; }, dur);
    }
  }

  let last = performance.now();
  function loop(now){
    const dt = now - last; last = now;
    updateWind(dt);
    ctx.clearRect(0,0,W,H);

    for(let f of flakes){
      // apply wind scaled by depth and slight sin sway
      f.x += (f.vx + wind * 0.0008 * f.depth) * (dt/16) * f.depth * 0.9;
      f.y += (f.vy) * (dt/16) * f.depth;
      f.rot += f.vrot * (dt/16);

      // wrap around
      if(f.y > H + 30){ f.y = -30; f.x = Math.random()*W; }
      if(f.x > W + 30) f.x = -30;
      if(f.x < -30) f.x = W + 30;

      ctx.globalAlpha = Math.min(1, f.alpha * (0.5 + 0.5/f.depth));
      // draw image rotated
      ctx.save();
      ctx.translate(f.x, f.y);
      ctx.rotate(f.rot);
      const s = f.size * 2; // scale for the offscreen canvas approx
      ctx.drawImage(f.img, -s, -s, f.img.width / DPR, f.img.height / DPR);
      ctx.restore();

      // subtle glow for larger flakes
      if(f.size > 3){
        ctx.globalAlpha = 0.06 * f.alpha;
        ctx.fillStyle = 'white';
        ctx.beginPath();
        ctx.ellipse(f.x, f.y, f.size*2.5, f.size*1.2, 0, 0, Math.PI*2);
        ctx.fill();
      }
    }

    requestAnimationFrame(loop);
  }

  // canvas overlay styles (non-blocking)
  Object.assign(cvs.style, {
    position:'fixed',left:0,top:0,width:'100%',height:'100%',pointerEvents:'none',
    zIndex:9999,mixBlendMode:'screen',opacity:0.98,transition:'opacity .4s'
  });

  // small performance protections
  let running = true;
  function onVisibility(){
    if(document.hidden){ running = false; } else { running = true; last = performance.now(); requestAnimationFrame(loop); }
  }
  document.addEventListener('visibilitychange', onVisibility);

  // start
  requestAnimationFrame(loop);

  // optional: toggle with key 's' (يمكنك إزالة)
  window.addEventListener('keydown', e=>{ if(e.key==='s') cvs.style.opacity = cvs.style.opacity==0 ? 0.98 : 0; });

})();
</script>

</body>

</html>